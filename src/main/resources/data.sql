USE greenroutine;
SET FOREIGN_KEY_CHECKS=0;

-- =========================
-- ì´ˆê¸°í™”(ë‚´ ìœ ì €ì™€ í•´ë‹¹ ì›”ë§Œ)
-- =========================
DELETE FROM save_width_bar   WHERE user_id=1 AND ym IN ('2025-08');
DELETE FROM save_length_bar  WHERE ym='2025-08' AND area='ì•ˆì„œë™';
DELETE FROM this_month_goal  WHERE user_id=1 AND period_ym='2025-08';
DELETE FROM saving_goal      WHERE user_id=1 AND period_ym='2025-08';
DELETE FROM monthly_charge   WHERE user_id=1 AND ym IN ('2025-07','2025-08');
DELETE FROM usage_log        WHERE user_id=1 AND DATE(ts)='2025-08-19';
DELETE FROM tip_rule;
DELETE FROM user_preference  WHERE user_id=1;
DELETE FROM alert            WHERE user_id=1
  AND created_at BETWEEN '2025-07-01 00:00:00' AND '2025-08-31 23:59:59';
DELETE FROM gr_user          WHERE id=1;

-- =========================
-- ì‚¬ìš©ì
-- =========================
INSERT INTO gr_user (id, email) VALUES (1, 'test@example.com');

-- =========================
-- ì›”ë³„/ì¼ë³„ ì‚¬ìš©ëŸ‰ (ì›ê°€ í™˜ì‚°ì€ ì„œë¹„ìŠ¤ì—ì„œ ê³„ì‚°)
-- 7ì›”: ì „ê¸° í”¼í¬ + ê°€ìŠ¤ë„ ì‚¬ìš©
-- 8ì›”: 7ì›” ëŒ€ë¹„ 15~20% ì ˆì•½ íŒ¨í„´
-- =========================
INSERT INTO monthly_charge (user_id, ym, day_value, elec, gas) VALUES
-- 2025-07
(1,'2025-07', 1,12,3),(1,'2025-07', 2,11,2),(1,'2025-07', 3,15,4),
(1,'2025-07', 4,14,3),(1,'2025-07', 5,13,2),(1,'2025-07', 6,12,3),
(1,'2025-07', 7,13,2),(1,'2025-07', 8,12,3),(1,'2025-07', 9,14,4),
(1,'2025-07',10,13,2),(1,'2025-07',11,12,3),(1,'2025-07',12,15,4),
(1,'2025-07',13,14,2),(1,'2025-07',14,13,3),(1,'2025-07',15,12,2),
(1,'2025-07',16,13,3),(1,'2025-07',17,14,4),(1,'2025-07',18,15,3),
(1,'2025-07',19,12,2),(1,'2025-07',20,13,3),(1,'2025-07',21,14,2),
(1,'2025-07',22,13,3),(1,'2025-07',23,12,2),(1,'2025-07',24,15,4),
(1,'2025-07',25,14,3),(1,'2025-07',26,13,2),(1,'2025-07',27,12,3),
(1,'2025-07',28,13,2),(1,'2025-07',29,14,3),(1,'2025-07',30,12,2),
(1,'2025-07',31,13,3),
-- 2025-08 (1~25)
(1,'2025-08', 1,10,2),(1,'2025-08', 2, 9,1),(1,'2025-08', 3,11,2),
(1,'2025-08', 4,10,2),(1,'2025-08', 5, 9,1),(1,'2025-08', 6,10,2),
(1,'2025-08', 7,11,2),(1,'2025-08', 8,10,2),(1,'2025-08', 9, 9,1),
(1,'2025-08',10,10,2),(1,'2025-08',11,11,3),(1,'2025-08',12, 9,1),
(1,'2025-08',13,10,2),(1,'2025-08',14, 9,1),(1,'2025-08',15,10,2),
(1,'2025-08',16,11,2),(1,'2025-08',17,10,2),(1,'2025-08',18, 9,1),
(1,'2025-08',19,10,2),(1,'2025-08',20,11,3),(1,'2025-08',21,10,2),
(1,'2025-08',22, 9,1),(1,'2025-08',23,10,2),(1,'2025-08',24,11,2),
(1,'2025-08',25,10,2);

-- =========================
-- ë„ë„›/ê°€ë¡œë°”ìš© ëª©í‘œÂ·ì§„ì²™ (SaveWidthBarService)
-- =========================
INSERT INTO save_width_bar (user_id, ym, category, target_amount, used_amount) VALUES
(1,'2025-08','elec',10000, 5380),
(1,'2025-08','gas' ,30000,20000);

-- =========================
-- ì„¸ë¡œë°”/ë­í‚¹ (SaveLengthBarService)
-- =========================
INSERT INTO save_length_bar (user_id, area, ym, success_count, total_count) VALUES
(1,'ì•ˆì„œë™','2025-08',84,100),
(2,'ì•ˆì„œë™','2025-08',90,100),
(3,'ì•ˆì„œë™','2025-08',17,100),
(4,'ì•ˆì„œë™','2025-08',21,100),
(5,'ì•ˆì„œë™','2025-08',19,100),
(6,'ì•ˆì„œë™','2025-08',23,100);

-- =========================
-- ì´ë²ˆ ë‹¬ ëª©í‘œ(ìŠ¬ë¼ì´ë”) (ThisMonthGoalService)
-- =========================
INSERT INTO this_month_goal (user_id, period_ym, goal_won) VALUES
(1,'2025-08',50000);

-- =========================
-- ì ˆì•½ ëª©í‘œ(ëŒ€ì‹œë³´ë“œ ì¹´ë“œ) (DashboardService.set/getSavingGoal)
-- =========================
INSERT INTO saving_goal (user_id, period_ym, saving_goal_won) VALUES
(1,'2025-08',50000);

-- =========================
-- TipServiceìš© ì„ í˜¸ + ë£°
-- =========================
INSERT INTO user_preference (user_id, housing_type, has_double_door, window_type)
VALUES (1, 'ì›ë£¸', 0, 'ë‹¨ì°½');

-- ì „ê¸° TIP
INSERT INTO tip_rule (housing_type, has_double_door, window_type, utility, priority, message) VALUES
('ì›ë£¸', 0, 'ë‹¨ì°½', 'ELEC', 0, 'ë‹¨ì°½ì´ë©´ ë‚® ì¼ì‚¬ ì°¨ë‹¨! ë¸”ë¼ì¸ë“œ/ì•”ë§‰ìœ¼ë¡œ ì—ì–´ì»¨ íš¨ìœ¨ ì—… ğŸŒ'),
(NULL  ,NULL, NULL , 'ELEC', 1, 'ì—ì–´ì»¨ 26~27â„ƒ + ì„ í’ê¸° ë³‘í–‰ìœ¼ë¡œ ì²´ê°ì˜¨ë„ë§Œ ë‚®ì¶”ê¸° â„ï¸'),
(NULL  ,NULL, NULL , 'ELEC', 2, 'ëŒ€ê¸°ì „ë ¥ ë©€í‹°íƒ­ OFFë¡œ ì „ê¸° ëˆ„ìˆ˜ ì»· ğŸ”Œ');

-- ê°€ìŠ¤ TIP
INSERT INTO tip_rule (housing_type, has_double_door, window_type, utility, priority, message) VALUES
('ì›ë£¸', NULL, NULL , 'GAS', 0, 'ë³´ì¼ëŸ¬ ì™¸ì¶œ/ì˜ˆì•½ ëª¨ë“œë¡œ ë¶ˆí•„ìš” ê°€ë™ ìµœì†Œí™” â±ï¸'),
(NULL  ,NULL, 'ë‹¨ì°½', 'GAS', 1, 'ì°½í‹€ í‹ˆ ë³´ìˆ˜(ì‹¤ë¦¬ì½˜/íŒ¨í‚¹)ë¡œ ì—´ì†ì‹¤ ì¡ê¸° ğŸ”§'),
(NULL  ,NULL, NULL , 'GAS', 2, 'ì˜¨ìˆ˜ëŠ” ê°€ì—´ í›„ OFF, ìƒ¤ì›ŒëŠ” 10ë¶„ ë‚´ë¡œ ğŸš¿');

-- =========================
-- MetricsService ë¼ì¸ì°¨íŠ¸(ì‹œì—° í•˜ë£¨ì¹˜)
-- =========================
INSERT INTO usage_log (user_id, ts, elec, gas) VALUES
-- 00~05 ì €ë¶€í•˜
(1,'2025-08-19 00:00:00', 1,0),
(1,'2025-08-19 01:00:00', 1,0),
(1,'2025-08-19 02:00:00', 0,0),
(1,'2025-08-19 03:00:00', 0,0),
(1,'2025-08-19 04:00:00', 0,0),
(1,'2025-08-19 05:00:00', 1,0),
-- 06~09 ì¶œê·¼/ìƒ¤ì›Œ í”¼í¬ (ê°€ìŠ¤â†‘)
(1,'2025-08-19 06:00:00', 1,1),
(1,'2025-08-19 07:00:00', 2,2),
(1,'2025-08-19 08:00:00', 2,2),
(1,'2025-08-19 09:00:00', 2,1),
-- 10~16 ì£¼ê°„ ì „ê¸°â†‘
(1,'2025-08-19 10:00:00', 3,0),
(1,'2025-08-19 11:00:00', 4,0),
(1,'2025-08-19 12:00:00', 4,1),
(1,'2025-08-19 13:00:00', 4,0),
(1,'2025-08-19 14:00:00', 4,0),
(1,'2025-08-19 15:00:00', 4,0),
(1,'2025-08-19 16:00:00', 3,0),
-- 17~21 ì €ë… í”¼í¬ (ê°€ìŠ¤â†‘â†‘)
(1,'2025-08-19 17:00:00', 3,1),
(1,'2025-08-19 18:00:00', 4,2),
(1,'2025-08-19 19:00:00', 4,3),
(1,'2025-08-19 20:00:00', 3,2),
(1,'2025-08-19 21:00:00', 3,1),
-- 22~23 ê°ì†Œ
(1,'2025-08-19 22:00:00', 2,0),
(1,'2025-08-19 23:00:00', 1,0);

-- =========================
-- Alert ìƒ˜í”Œ
-- =========================
INSERT INTO alert (user_id, category, level, title_exp, created_at, yes_read) VALUES
(1,'BILL','ì•Œë¦¼','8ì›” ì¤‘ê°„ ì •ì‚° ì•Œë¦¼','2025-08-15 09:00:00', b'0'),
(1,'ì „ê¸°','ê²½ê³ ','8/19 ì €ë… ì‹œê°„ëŒ€ ì „ë ¥ ê¸‰ì¦ ê°ì§€','2025-08-19 20:05:00', b'0');

SET FOREIGN_KEY_CHECKS=1;